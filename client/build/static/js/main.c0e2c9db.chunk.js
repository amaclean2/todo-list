(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports=n(29)},28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),c=n(7),r=n(5),i=n(8),u=function(e){var t=e.create,n=void 0===t?function(){}:t,c=Object(o.useState)(""),r=Object(i.a)(c,2),u=r[0],l=r[1];return a.a.createElement("div",{className:"todo-creator flex-container"},a.a.createElement("input",{placeholder:"I want to ____ today",autoFocus:!0,className:"text-input",value:u,type:"text",onChange:function(e){return l(e.target.value)}}),a.a.createElement("button",{className:"submit-button",onClick:function(){u&&(n(u),l(""))}},"create todo"))},l=n(1),d=n(4),s=function(e){return{type:d.pluralTypes.updateTodos}},p=function(){return function(e){return e({type:d.pluralTypes.requestTodos}),fetch("/api/todos/all",{method:"GET",headers:new Headers({"Content-Type":"application/json"})}).then(function(e){return e.json()}).then(function(t){return e(function(e){return{type:d.pluralTypes.receiveTodos,data:e.data,totalCount:e.total_count,receivedAt:Date.now()}}(t))}).catch(function(e){return console.log(e)})}},m=function(e){return function(t,n){var o,a=n().todos.data.find(function(t){return t._id.toString()===e}),c=Object(l.a)({},a,{completed:!a.completed});t((o=c,function(e){return fetch("/api/todos/update",{method:"PUT",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(o)}).then(function(e){return e.json()}).then(function(t){return e(s())}).catch(function(e){return console.log(e)})}))}},f=Object(r.b)(function(e){return{}},function(e){return{create:function(t){return e(function(e){return function(t){return fetch("/api/todos/save",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({title:e})}).then(function(e){return e.json()}).then(function(e){return t(s())}).catch(function(e){return console.log(e)})}}(t))}}})(u),E=n(13),h=function(e){var t=e.viewState,n=void 0===t?0:t,o=e.setViewState,c=void 0===o?function(){}:o;return a.a.createElement("div",{className:"view-switch flex-container"},a.a.createElement("label",null,a.a.createElement("input",{className:"view-input",onChange:function(){return c()},checked:!0===n,type:"radio",name:"completed"}),a.a.createElement("span",{className:"view-label"},"Show All Todos")),a.a.createElement("label",null,a.a.createElement("input",{className:"view-input",onChange:function(){return c()},checked:!1===n,type:"radio",name:"completed"}),a.a.createElement("span",{className:"view-label"},"Show Uncompleted Todos")))},v=function(e){var t=e.title,n=void 0===t?"":t,o=e.id,c=void 0===o?"0":o,r=e.deleteTodo,i=void 0===r?function(){}:r,u=e.complete,l=void 0===u?function(){}:u,d=e.completed,s=void 0!==d&&d,p=a.a.createElement("label",null,a.a.createElement("input",{className:"complete-input",checked:s,type:"checkbox",onChange:function(){return l(c)}}),a.a.createElement("div",{className:"complete-box"}));return a.a.createElement("div",{className:"flex-container todo"},p,n,a.a.createElement("div",{className:"flex-spacer"}),a.a.createElement("button",{className:"delete-button",onClick:function(){return i(c)}},a.a.createElement(E.a,{className:"times-icon"})))},T=function(){var e=a.a.createElement("label",null,a.a.createElement("input",{className:"complete-input",type:"checkbox"}),a.a.createElement("div",{className:"complete-box"}));return a.a.createElement("div",{className:"flex-container fake-todo todo"},e,"Handle more internet traffic than Google",a.a.createElement("div",{className:"flex-spacer"}),a.a.createElement("button",{className:"delete-button"},a.a.createElement(E.a,{className:"times-icon"})))},O=function(e){var t=e.todos,n=void 0===t?[]:t,c=e.request,r=void 0===c?function(){}:c,u=e.deleteTodo,l=e.complete,d=e.updateCheck,s=void 0===d||d,p=Object(o.useState)(!0),m=Object(i.a)(p,2),f=m[0],E=m[1];Object(o.useEffect)(function(){r()},[r,s]);var O=function(e,t){return a.a.createElement(v,{key:"todo_".concat(t),id:e._id,complete:l,completed:e.completed,deleteTodo:u,title:e.title})},b=f?n.map(function(e,t){return O(e,t)}):n.filter(function(e){return!e.completed}).map(function(e,t){return O(e,t)}),w=a.a.createElement(T,null);return a.a.createElement("div",{className:"todo-list"},a.a.createElement(h,{viewState:f,setViewState:function(){return E(!f)}}),n.length?b:w)},b=Object(r.b)(function(e){return{todos:e.todos.data,updateCheck:e.todos.needsUpdate}},function(e){return{request:function(){return e(function(e,t){(function(e){var t=e.todos;return!t||void 0===t.needsUpdate||!0===t.needsUpdate})(t())&&e(p())})},deleteTodo:function(t){return e(function(e){return function(t){return fetch("/api/todos/delete/".concat(e),{method:"DELETE",headers:new Headers({"Content-Type":"application/json"})}).then(function(e){return e.json()}).then(function(e){return t(s())}).catch(function(e){return console.log(e)})}}(t))},complete:function(t){return e(m(t))}}})(O);n(28);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var w=n(2),g=n(16),y=n(17),j=n(18),N=function(e){return function(t,n,o){return e(function(e,n){var o,a=performance.now(),c=t(e,n),r=performance.now(),i=(o=r-a,Math.round(100*o)/100);return console.log("reducer process time:",i),c},n,o)}},S=Object(w.combineReducers)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_TODOS":return Object(l.a)({},e,{isFetching:!0,needsUpdate:!1});case"RECEIVE_TODOS":return Object(l.a)({},e,{isFetching:!1,needsUpdate:!1,data:t.data});case"UPDATE_TODOS":return Object(l.a)({},e,{isFetching:!1,needsUpdate:!0});default:return e}},todo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_TODO":return Object(l.a)({},e,{isFetching:!0,needsUpdate:!1});case"RECEIVE_TODO":return Object(l.a)({},e,{isFetching:!1,needsUpdate:!1,data:t.data});case"UPDATE_TODO":return Object(l.a)({},e,{data:t.data});default:return e}}}),_=Object(j.createLogger)(),D=function(e){var t=[_,g.a],n=[w.applyMiddleware.apply(void 0,t),N],o=y.composeWithDevTools.apply(void 0,n);return Object(w.createStore)(S,e,o)}();Object(c.render)(a.a.createElement(r.a,{store:D},a.a.createElement(function(){var e=a.a.createElement("header",{className:"flex-container"},a.a.createElement("h1",null,"Todo List"));return a.a.createElement("div",{className:"todo-list-app"},e,a.a.createElement(f,null),a.a.createElement(b,null))},null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},4:function(e,t){t.pluralTypes={requestTodos:"REQUEST_TODOS",receiveTodos:"RECEIVE_TODOS",updateTodos:"UPDATE_TODOS"},t.singularTypes={requestTodo:"REQUEST_TODO",receiveTodo:"RECEIVE_TODO",updateTodo:"UPDATE_TODO"}}},[[19,1,2]]]);
//# sourceMappingURL=main.c0e2c9db.chunk.js.map